<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:composition template="/paginas/manutencao/inicio.xhtml">		
		<ui:define name="containerSecondary">			
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">Relatório de Vendas</h3>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-md-1">
							Período:
						</div>
						<div class="col-md-1">
							<h:inputText maxlength="10" size="10" value="#{relatorioVendasBean.dataInicio}" />
						</div>
						
						<div class="col-md-1" style="text-align: center;">
							<h:outputText value="a" />
						</div>
						
						<div class="col-md-1">
							<h:inputText maxlength="10" size="10" value="#{relatorioVendasBean.dataFim}" />
						</div>
					</div>
					
					<br />
					
					<div class="row">
						<div class="col-lg-9">
							<h:commandLink action="#{relatorioVendasBean.visualizarRelatorioVendas}" styleClass="btn btn-primary" value="Visualizar" />
						</div>
					</div>
					
					<br />
					
					<table class="table table-hover">
			        	<thead>
				          	<tr>
					            <th>Pagamento</th>
					            <th>Forma de Pagamento</th>
					            <th>Data</th>
					            <th>Valor Pago</th>
				          	</tr>
			        	</thead>
			        	<tbody>
			        		<ui:repeat value="#{relatorioVendasBean.pagamentos}" var="pagamento" varStatus="status">
				        		<tr class="#{status.odd ? '' : 'warning'}">
				        			<td>
				        				<h:outputText value="#{pagamento.id}" />
				        			</td>
				        			<td>
				        				<h:outputText value="#{pagamento.tipo.descricao}"/>
				        			</td>
				        			<td>
				        				<h:outputText value="#{pagamento.data.time}">
											<f:convertDateTime type="time" pattern="dd/MM/yyyy HH:mm:ss" />
										</h:outputText>
				        			</td>
				        			<td>
				        				<h:outputText value="#{pagamento.valorPago}">
				        					<f:convertNumber type="currency" />
				        				</h:outputText>
				        			</td>
				        		</tr>
				        	</ui:repeat>
				        </tbody>
				        <tfoot>
			        		<tr class="success">
			        			<td colspan="3">
			        				<b>Total:</b>
			        			</td>
			        			<td>
			        				<b>
				        				<h:outputText value="#{relatorioVendasBean.total}">
	 										<f:convertNumber type="currency" />
	 									</h:outputText>
	 								</b>
			        			</td>
			        		</tr>
			        	</tfoot>
					</table>
				</div>
			</div>			
		</ui:define>
	</ui:composition>
</html>